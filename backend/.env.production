# PhoneGPT Production Configuration
# Your MentraOS Setup - Ready to Deploy

# ============================================================================
# MentraOS Integration (Your Configuration)
# ============================================================================

# MentraOS API Key - from https://console.mentra.glass
# DO NOT COMMIT THIS FILE WITH REAL KEY - use environment variables in production
MENTRAOS_API_KEY=45c37cbfd26b630b5e8fecfbe42a360b8ca521a14d5c42234d777ef0520d82a8

# Package name registered in MentraOS Console
PACKAGE_NAME=org.codeofhonor.phonegpt

# Your frontend domain - MentraOS glasses will connect here
FRONTEND_URL=https://phonegpt.systemd.diskstation.me

# ============================================================================
# Server Configuration
# ============================================================================

# Express.js server port
PORT=8112

# Environment: development or production
NODE_ENV=development

# ============================================================================
# Database Configuration
# ============================================================================

# SQLite database path (development)
DB_PATH=./phonegpt.db

# PostgreSQL connection string (production - uncomment to use)
# DATABASE_URL=postgresql://user:password@localhost:5432/phonegpt_db
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=phonegpt
# DB_USER=phonegpt_user
# DB_PASSWORD=your_password_here

# ============================================================================
# JWT Authentication Configuration
# ============================================================================

# Secret key for JWT signing
# Generate secure key: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-12345

# Token expiration time
JWT_EXPIRY=30d

# ============================================================================
# Frontend/Client Configuration
# ============================================================================

# Backend API URL for React frontend
REACT_APP_API_URL=http://localhost:8112

# WebSocket URL for real-time updates
REACT_APP_WS_URL=ws://localhost:8112

# ============================================================================
# CORS Configuration (Cross-Origin Resource Sharing)
# ============================================================================

# Allowed origins for API requests
# Production: only your domain
# Development: localhost for testing
CORS_ORIGIN=http://localhost:5173,http://localhost:3000,https://phonegpt.systemd.diskstation.me

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ============================================================================
# Security Configuration
# ============================================================================

# Bcrypt hashing cost (higher = more secure but slower)
# 10 rounds: ~500ms (standard)
# 12 rounds: ~1s (recommended for production)
BCRYPT_ROUNDS=10

# Session timeout in milliseconds (30 minutes)
SESSION_TIMEOUT_MS=1800000

# ============================================================================
# Feature Flags
# ============================================================================

# Enable conversation export
ENABLE_EXPORT=true

# Enable session history
ENABLE_SESSION_HISTORY=true

# Max sessions per user
MAX_SESSIONS_PER_USER=50

# Max messages per session
MAX_MESSAGES_PER_SESSION=1000

# ============================================================================
# AI Integration (Optional)
# ============================================================================

# Anthropic Claude API for AI responses
# Get key from: https://console.anthropic.com
ANTHROPIC_API_KEY=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

# OpenAI API (optional alternative)
# OPENAI_API_KEY=sk-proj-your-api-key-here

# Local AI Model path for MLX Swift integration on iPhone
# LOCAL_AI_MODEL_PATH=./models/llama-7b

# ============================================================================
# Third-Party Services (Optional)
# ============================================================================

# Sentry error tracking
# SENTRY_DSN=https://your-key@sentry.io/your-project-id

# Mixpanel analytics
# MIXPANEL_TOKEN=your-token-here

# Datadog monitoring
# DATADOG_API_KEY=your-api-key-here

# ============================================================================
# Email Configuration (Optional - for notifications)
# ============================================================================

# SMTP settings for sending emails
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ============================================================================
# Production Deployment Notes
# ============================================================================

# Before deploying to PRODUCTION:
#
# 1. SECURITY
#    - Change JWT_SECRET to strong random value (32+ characters)
#    - Keep API keys in secrets manager, NOT in .env file
#    - Set NODE_ENV=production
#    - Enable HTTPS on all URLs
#    - Restrict CORS_ORIGIN to your domain only
#
# 2. DATABASE
#    - Switch to PostgreSQL for production
#    - Set up automated daily backups
#    - Enable encryption at rest
#    - Use SSL connections
#
# 3. MENTRAOS
#    - Verify API key is valid
#    - Test device registration flow
#    - Confirm WebSocket secure connection (WSS)
#    - Monitor device connection status
#
# 4. MONITORING
#    - Configure error tracking (Sentry)
#    - Set up performance monitoring
#    - Enable request logging
#    - Setup alerts for API errors
#
# 5. SCALING
#    - Configure load balancer
#    - Set up rate limiting
#    - Enable caching layer (Redis)
#    - Database connection pooling
#
# 6. COMPLIANCE
#    - Audit security settings
#    - Review data retention policies
#    - Ensure GDPR compliance if needed
#    - Test disaster recovery

# ============================================================================
# Development vs Production Differences
# ============================================================================

# DEVELOPMENT (current):
#   NODE_ENV=development
#   DB_PATH=./phonegpt.db (local SQLite)
#   CORS_ORIGIN includes localhost
#   LOG_LEVEL=debug (verbose)
#   JWT_SECRET=temporary value
#   No rate limiting

# PRODUCTION (when ready):
#   NODE_ENV=production
#   DATABASE_URL=postgresql://... (managed PostgreSQL)
#   CORS_ORIGIN=https://phonegpt.systemd.diskstation.me only
#   LOG_LEVEL=info (minimal)
#   JWT_SECRET=strong random value from vault
#   Rate limiting enabled
#   HTTPS enforced
#   Error tracking enabled

# ============================================================================
# Testing This Configuration
# ============================================================================

# After setting up .env, verify with:
#
# 1. Check backend connects:
#    curl http://localhost:8112/api/health
#
# 2. Check frontend loads:
#    Open http://localhost:5173 in browser
#
# 3. Test signup (password must meet 5 requirements):
#    curl -X POST http://localhost:8112/api/auth/signup \
#      -H "Content-Type: application/json" \
#      -d '{"email":"test@example.com","password":"TestPass123!"}'
#
# 4. Test MentraOS device registration:
#    curl -X POST http://localhost:8112/api/mentraos/device/register \
#      -H "Authorization: Bearer {token}" \
#      -H "Content-Type: application/json" \
#      -d '{"deviceId":"test-001","deviceModel":"Test"}'

# ============================================================================
